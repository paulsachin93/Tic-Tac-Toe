<!DOCTYPE>
<html>

<head>
    <meta charset="UTF-8">

    <title>Game of Zero and Crosses</title>
    <link rel="stylesheet" href="tictactoe.css">
</head>

<body>
    <section>
        <h1 class="game--title">Game of Zero and Crosses</h1>
        <div class="game--container">
            <div data-cell-index="0" class="cell"></div>
            <div data-cell-index="1" class="cell"></div>
            <div data-cell-index="2" class="cell"></div>
            <div data-cell-index="3" class="cell"></div>
            <div data-cell-index="4" class="cell"></div>
            <div data-cell-index="5" class="cell"></div>
            <div data-cell-index="6" class="cell"></div>
            <div data-cell-index="7" class="cell"></div>
            <div data-cell-index="8" class="cell"></div>
        </div>
        <h2 class="game--status"></h2>

    </section>
    <script>
        const statusDisplay = document.querySelector('.game--status');

        let gameActive = true;

        let currentPlayer = "X";

        let gameState = [];

        const currentPlayerTurn = () => `Mover: ${currentPlayer}`;
        const winningConditions = [
            [0, 1, 2],
            [3, 4, 5],
            [6, 7, 8],
            [0, 3, 6],
            [1, 4, 7],
            [2, 5, 8],
            [0, 4, 8],
            [2, 4, 6]
        ];

        statusDisplay.innerHTML = currentPlayerTurn();


        document.querySelectorAll('.cell').forEach(cell => cell.addEventListener('click', handleCellClick));


        function handleCellClick(clickedCellEvent) {
            const clickedCell = clickedCellEvent.target;
            const clickedCellIndex = parseInt(clickedCell.getAttribute('data-cell-index'));

            if (!gameActive) {
                return;
            }
            handleCellPlayed(clickedCell, clickedCellIndex);
            handleResultValidation();
        }

        function handleCellPlayed(clickedCell, clickedCellIndex) {

            clickedCell.innerHTML = currentPlayer;
            gameState.push(currentPlayer)
        }

        function handlePlayerChange() {
            currentPlayer = currentPlayer === "X" ? "0" : "X";
            statusDisplay.innerHTML = currentPlayerTurn();
        }

        function handleResultValidation() {
            let roundWon = false;


            console.log(gameState)
            if (gameState.length >= 9) {
                statusDisplay.innerHTML = "Game Over"
                gameActive = false;
                return;
            }


            handlePlayerChange();
        }
    </script>
</body>

</html>
